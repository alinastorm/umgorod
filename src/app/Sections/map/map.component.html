<div class="container-fluid">
  <div class="row">
    <div class="col p-0">
      <mat-sidenav-container
        class="example-container"
        (backdropClick)="close('backdrop')"
      >
        <mat-sidenav #sidenav (keydown.escape)="close('escape')" disableClose>
          <!-- <p>
          <button mat-button (click)="close('toggle button')">Toggle</button>
        </p> -->
          <div class="col-12">
            <mat-form-field>
              <mat-label>Регион</mat-label>
              <mat-select [formControl]="mapFC">
                <mat-option>-- None --</mat-option>
                <mat-optgroup
                  *ngFor="let group of mapGroups"
                  [label]="group.name"
                  [disabled]="group.disabled"
                >
                  <mat-option
                    *ngFor="let city of group.values"
                    [value]="city.value"
                    (click)="viewCity(city)"
                  >
                    {{ city.viewValue }}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-12">
            <mat-form-field>
              <mat-label>Интерес</mat-label>
              <mat-select [formControl]="mapFC" multiple>
                <mat-option
                  *ngFor="let city of _map | async"
                  [value]="city.name"
                  >{{ city.name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
        </mat-sidenav>

        <mat-sidenav-content>
          <!-- <p><button mat-button >Open</button></p> -->
          <button
            id="filterButton"
            mat-mini-fab
            color="warn"
            (click)="sidenav.open()"
          >
            <mat-icon>filter_list</mat-icon>
          </button>
          <div class="col border p-0">
            <google-map
              height="600px"
              width="100%"
              [zoom]="zoom"
              [center]="center"
              [options]="options"
              (mapClick)="click($event)"
            >
              <map-marker
                #markerElem
                *ngFor="let marker of umMarkers | async"
                [position]="marker.position"
                [title]="marker.title"
                [options]="marker.options"
                (mapClick)="openInfo(markerElem, marker)"
              >
              </map-marker>

              <map-marker
                #markerElem
                *ngFor="let chMarker of chMarkers | async"
                [position]="chMarker.position"
                [title]="chMarker.title"
                [options]="chMarker.options"
                (mapClick)="openInfo(markerElem, chMarker)"
              >
                <!-- [label]="marker.label" -->
              </map-marker>

              <map-info-window>
                <img
                  class="imgInfo"
                  *ngFor="let item of marker.imgs"
                  [src]="item"
                />

                <div class="">
                  {{ infoContent }}
                </div>
              </map-info-window>
            </google-map>

            <!-- <button (click)="zoomIn()">Zoom in</button>
    <button (click)="zoomOut()">Zoom out</button>
    <button (click)="logCenter()">Log center</button> -->
            <!-- <button (click)="addMarker()">Add marker</button> -->
          </div>
        </mat-sidenav-content>
      </mat-sidenav-container>
    </div>
  </div>
</div>
<div class="container">
  <div class="row justify-content-center">
    <div class="ml-5 mr-5 col-10">
      <div [innerHTML]="htmlStr"></div>
    </div>
  </div>
</div>
